 /*!
 * Color.js
 * Javascript class for working with colors.
 *
 * by Adam Drago
 */
(function(){this.Color=function(e){this.set(e)};Color.prototype={rgba:[],getRgb:function(){var e=this.getRgba();if(e){return e.slice(0,3)}else{return null}},getRgba:function(){return this.rgba||null},getHex:function(e){var t=this.getRgb();return t===null?null:(e===true?"#":"")+u(t)},getHsv:function(){var e=this.getRgb();return e===null?null:o(e)},set:function(e){if(e&&(e.hsv||e.rgb||e.rgba||e.hex)){if(e.hsv){this.rgba=s(e.hsv)}else if(e.rgb){this.rgba=l(e.rgb)}else if(e.rgba){this.rgba=e.rgba}else if(e.hex){this.rgba=a(e.hex)}}else if(t(e)){this.rgba=l(e)}else if(n(e)){if(e[0]=="r"){if(e[3]!="a"){this.rgba=r(l(e.substring(4,e.length-1).split(",")),function(e){return+e})}else{this.rgba=r(e.substring(5,e.length-1).split(","),function(e){return+e})}}else{this.rgba=a(e)}}else{this.rgba=[0,0,0,0]}return this}};var e=function(e){return Object.prototype.toString.call(e)},t=function(t){return e(t)==="[object Array]"},n=function(t){return e(t)==="[object String]"},r=function(e,t){for(var n=0;n<e.length;n++){e[n]=t(e[n])}return e},i=function(e,t,n){while(e.length<t){e=n+e}return e},s=function(e){var t,n,r,i=e[0],s=e[1],o=e[2],u=Math.floor(i*6),a=i*6-u,f=o*(1-s),l=o*(1-a*s),c=o*(1-(1-a)*s);switch(u%6){case 0:t=o,n=c,r=f;break;case 1:t=l,n=o,r=f;break;case 2:t=f,n=o,r=c;break;case 3:t=f,n=l,r=o;break;case 4:t=c,n=f,r=o;break;case 5:t=o,n=f,r=l;break}return[Math.floor(t*255),Math.floor(n*255),Math.floor(r*255),1]},o=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=0,u=i,a=i-s,f=i==0?0:a/i;if(i==s){o=0}else{switch(i){case t:o=(n-r)/a+(n<r?6:0);break;case n:o=(r-t)/a+2;break;case r:o=(t-n)/a+4;break}o/=6}return[o,f,u]},u=function(e){return i(e[0].toString(16),2,"0")+i(e[1].toString(16),2,"0")+i(e[2].toString(16),2,"0")},a=function(e){e=c(e);return[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)]},f=function(e){e.pop();return e},l=function(e){if(e.length==3){e.push(1)}return e},c=function(e){e=e[0]=="#"?e.substring(1):e;return e.length==3?e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e};Color.hsvToRgba=s;Color.rgbToHsv=o;Color.rgbToHex=u;Color.hexToRgba=a;Color.rgbaToRgb=f;Color.rgbToRgba=l;Color.fixHex=c}).call(this)